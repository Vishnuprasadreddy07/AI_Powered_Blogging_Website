{"ast":null,"code":"import React from \"react\";\nimport Data from \"../../Postsdata.json\";\nclass Post {\n  constructor(id, title, body, author, topic, comments) {\n    this.parseData = async () => {\n      for (let i = 0; i < Data.length; i++) {\n        this.state.push(Data[i]);\n      }\n    };\n    this.id = id;\n    this.title = title;\n    this.body = body;\n    this.status = author;\n    this.topic = topic;\n    this.comments = comments;\n  }\n  async getPosts() {\n    try {\n      const response = await fetch(\"http://localhost:5000/api/posts\"); // Change to port 5000\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const posts = await response.json(); // Parse the response as JSON\n      console.log(\"Fetched posts:\", posts); // Check if posts are returned correctly\n      return posts; // Return the fetched posts\n    } catch (error) {\n      console.error(\"Error fetching posts:\", error); // Log any error that occurs\n      return []; // Return an empty array in case of an error\n    }\n  }\n  async getPostsByTopic(topic) {\n    try {\n      const response = await fetch(\"http://localhost:4000/getData\", {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch data\");\n      }\n      const data = await response.json();\n      const fp = [];\n      for (let i = 0; i < data.length; i++) {\n        if (data[i].topic === topic) {\n          fp.push(new Post(data[i].id, data[i].title, data[i].body, data[i].author, data[i].topic, data[i].comments));\n        }\n      }\n      return fp;\n    } catch (error) {\n      console.error(\"Error fetching posts:\", error);\n      return []; // Return an empty array or handle the error as appropriate\n    }\n  }\n}\nexport default Post;","map":{"version":3,"names":["React","Data","Post","constructor","id","title","body","author","topic","comments","parseData","i","length","state","push","status","getPosts","response","fetch","ok","Error","posts","json","console","log","error","getPostsByTopic","method","headers","data","fp"],"sources":["D:/Blogging-Applicaton-main old/Blogging-Applicaton-main/Source code/Frontend/my-react-project/src/components/classes/Post.js"],"sourcesContent":["import React from \"react\";\r\nimport Data from \"../../Postsdata.json\";\r\n\r\nclass Post {\r\n  constructor(id, title, body, author, topic, comments) {\r\n    this.id = id;\r\n    this.title = title;\r\n    this.body = body;\r\n    this.status = author;\r\n    this.topic = topic;\r\n    this.comments = comments;\r\n  }\r\n\r\n  parseData = async () => {\r\n    for (let i = 0; i < Data.length; i++) {\r\n      this.state.push(Data[i]);\r\n    }\r\n  };\r\n\r\n  async getPosts() {\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/posts\");  // Change to port 5000\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n\r\n      const posts = await response.json();  // Parse the response as JSON\r\n      console.log(\"Fetched posts:\", posts);  // Check if posts are returned correctly\r\n      return posts;  // Return the fetched posts\r\n    } catch (error) {\r\n      console.error(\"Error fetching posts:\", error);  // Log any error that occurs\r\n      return [];  // Return an empty array in case of an error\r\n    }\r\n  }\r\n\r\n  async getPostsByTopic(topic) {\r\n    try {\r\n      const response = await fetch(\"http://localhost:4000/getData\", {\r\n        method: \"GET\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch data\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      const fp = [];\r\n      for (let i = 0; i < data.length; i++) {\r\n        if (data[i].topic === topic) {\r\n          fp.push(\r\n            new Post(\r\n              data[i].id,\r\n              data[i].title,\r\n              data[i].body,\r\n              data[i].author,\r\n              data[i].topic,\r\n              data[i].comments\r\n            )\r\n          );\r\n        }\r\n      }\r\n      return fp;\r\n    } catch (error) {\r\n      console.error(\"Error fetching posts:\", error);\r\n      return []; // Return an empty array or handle the error as appropriate\r\n    }\r\n  }\r\n}\r\n\r\nexport default Post;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,IAAI,MAAM,sBAAsB;AAEvC,MAAMC,IAAI,CAAC;EACTC,WAAWA,CAACC,EAAE,EAAEC,KAAK,EAAEC,IAAI,EAAEC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,EAAE;IAAA,KAStDC,SAAS,GAAG,YAAY;MACtB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,IAAI,CAACW,MAAM,EAAED,CAAC,EAAE,EAAE;QACpC,IAAI,CAACE,KAAK,CAACC,IAAI,CAACb,IAAI,CAACU,CAAC,CAAC,CAAC;MAC1B;IACF,CAAC;IAZC,IAAI,CAACP,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACS,MAAM,GAAGR,MAAM;IACpB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EAC1B;EAQA,MAAMO,QAAQA,CAAA,EAAG;IACf,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAiC,CAAC,CAAC,CAAE;MAClE,IAAI,CAACD,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAE,uBAAsBH,QAAQ,CAACF,MAAO,EAAC,CAAC;MAC3D;MAEA,MAAMM,KAAK,GAAG,MAAMJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAAE;MACtCC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEH,KAAK,CAAC,CAAC,CAAE;MACvC,OAAOA,KAAK,CAAC,CAAE;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC,CAAC,CAAE;MAChD,OAAO,EAAE,CAAC,CAAE;IACd;EACF;EAEA,MAAMC,eAAeA,CAAClB,KAAK,EAAE;IAC3B,IAAI;MACF,MAAMS,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+B,EAAE;QAC5DS,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CAAC,CAAC;MAEF,IAAI,CAACX,QAAQ,CAACE,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACzC;MAEA,MAAMS,IAAI,GAAG,MAAMZ,QAAQ,CAACK,IAAI,CAAC,CAAC;MAClC,MAAMQ,EAAE,GAAG,EAAE;MACb,KAAK,IAAInB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkB,IAAI,CAACjB,MAAM,EAAED,CAAC,EAAE,EAAE;QACpC,IAAIkB,IAAI,CAAClB,CAAC,CAAC,CAACH,KAAK,KAAKA,KAAK,EAAE;UAC3BsB,EAAE,CAAChB,IAAI,CACL,IAAIZ,IAAI,CACN2B,IAAI,CAAClB,CAAC,CAAC,CAACP,EAAE,EACVyB,IAAI,CAAClB,CAAC,CAAC,CAACN,KAAK,EACbwB,IAAI,CAAClB,CAAC,CAAC,CAACL,IAAI,EACZuB,IAAI,CAAClB,CAAC,CAAC,CAACJ,MAAM,EACdsB,IAAI,CAAClB,CAAC,CAAC,CAACH,KAAK,EACbqB,IAAI,CAAClB,CAAC,CAAC,CAACF,QACV,CACF,CAAC;QACH;MACF;MACA,OAAOqB,EAAE;IACX,CAAC,CAAC,OAAOL,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC7C,OAAO,EAAE,CAAC,CAAC;IACb;EACF;AACF;AAEA,eAAevB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}